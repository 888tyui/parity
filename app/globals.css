@import "tailwindcss";

/* ========================================
   PARITY — Digital Parchment Design System
   ======================================== */

:root {
  /* Background — Clean Blue-White */
  --bg-primary: #F0F4F8;
  --bg-surface: #F8FAFC;
  --bg-deep: #E4EAF0;

  /* Blue — Dreamy */
  --blue-primary: #3454D1;
  --blue-light: #A8C4E6;
  --blue-pale: #DCE8F5;
  --blue-deep: #1A2B6B;

  /* Text */
  --text-primary: #1C1C1E;
  --text-secondary: #52586A;

  /* Accent */
  --accent-warm: #835A32;

  /* Border */
  --border: #D4DCE6;

  /* Grain */
  --grain-opacity: 0.025;

  /* Depth shadows */
  --shadow-soft: 0 1px 2px rgba(28, 28, 30, 0.04), 0 4px 12px rgba(28, 28, 30, 0.03);
  --shadow-medium: 0 2px 4px rgba(28, 28, 30, 0.05), 0 8px 24px rgba(28, 28, 30, 0.06);
  --shadow-elevated: 0 4px 8px rgba(28, 28, 30, 0.06), 0 16px 40px rgba(28, 28, 30, 0.08);
  --shadow-blue-glow: 0 4px 20px rgba(52, 84, 209, 0.08), 0 0 60px rgba(52, 84, 209, 0.04);
  --shadow-inner-light: inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

@theme inline {
  --color-bg-primary: var(--bg-primary);
  --color-bg-surface: var(--bg-surface);
  --color-bg-deep: var(--bg-deep);
  --color-blue-primary: var(--blue-primary);
  --color-blue-light: var(--blue-light);
  --color-blue-pale: var(--blue-pale);
  --color-blue-deep: var(--blue-deep);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-accent-warm: var(--accent-warm);
  --color-border: var(--border);

  --font-display: var(--font-cs-caleb-mono);
  --font-accent: var(--font-pixerif);
  --font-serif: var(--font-instrument-serif);
  --font-body: var(--font-dm-sans);
  --font-code: var(--font-cs-caleb-mono);
}

/* ========================================
   Base Styles
   ======================================== */

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-dm-sans), sans-serif;
  overflow-x: hidden;
}

/* Lenis handles smooth scrolling */
html.lenis, html.lenis body {
  height: auto;
}
.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}
.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

/* Selection */
::selection {
  background-color: var(--blue-pale);
  color: var(--blue-deep);
}

/* ========================================
   Pixerif Font Size Correction
   Scale down 15% to match Instrument Serif
   ======================================== */

.font-\[family-name\:var\(--font-pixerif\)\] {
  font-size: 0.85em;
  vertical-align: baseline;
}

/* ========================================
   Scrollbar
   ======================================== */

::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--bg-primary);
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}

/* ========================================
   Floating Orb Animations
   ======================================== */

@keyframes orb-drift-1 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(30px, -20px) scale(1.05); }
  50% { transform: translate(-15px, 15px) scale(0.95); }
  75% { transform: translate(20px, 10px) scale(1.02); }
}

@keyframes orb-drift-2 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(-25px, 30px) scale(1.03); }
  66% { transform: translate(20px, -25px) scale(0.97); }
}

@keyframes orb-drift-3 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  20% { transform: translate(15px, 20px) scale(1.04); }
  40% { transform: translate(-30px, -10px) scale(0.96); }
  60% { transform: translate(10px, -30px) scale(1.02); }
  80% { transform: translate(-20px, 15px) scale(0.98); }
}

/* ========================================
   Grain Overlay
   ======================================== */

.grain-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: var(--grain-opacity);
  background-image: url('/noise.svg');
  background-repeat: repeat;
  background-size: 200px 200px;
}

/* ========================================
   Editorial Decorative Elements
   ======================================== */

.editorial-rule {
  width: 60px;
  height: 1px;
  background: var(--border);
}

.editorial-rule-blue {
  width: 40px;
  height: 2px;
  background: var(--blue-primary);
  box-shadow: 0 0 8px rgba(52, 84, 209, 0.3);
}

/* ========================================
   Glassmorphism
   ======================================== */

.glass {
  background: rgba(248, 250, 252, 0.55);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow:
    var(--shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.glass-warm {
  background: rgba(240, 244, 248, 0.5);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow:
    var(--shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.glass-strong {
  background: rgba(248, 250, 252, 0.78);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow:
    var(--shadow-medium),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
}

.glass-blue {
  background: rgba(220, 232, 245, 0.4);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(168, 196, 230, 0.35);
  box-shadow:
    var(--shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.glass-deep {
  background: rgba(228, 234, 240, 0.5);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow:
    var(--shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.35);
}

.glass-card {
  background: rgba(248, 250, 252, 0.45);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.45);
  box-shadow:
    var(--shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

/* ========================================
   Code Block Styling
   ======================================== */

.code-block {
  background: rgba(248, 250, 252, 0.6);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-left: 3px solid var(--blue-primary);
  border-top: 1px solid rgba(255, 255, 255, 0.5);
  border-right: 1px solid rgba(255, 255, 255, 0.25);
  border-bottom: 1px solid rgba(255, 255, 255, 0.25);
  padding: 1.25rem 1.5rem;
  font-family: var(--font-cs-caleb-mono), monospace;
  font-size: 0.875rem;
  line-height: 1.7;
  overflow-x: auto;
  box-shadow: var(--shadow-soft), inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

/* ========================================
   Depth Utility Classes
   ======================================== */

.depth-card {
  box-shadow: var(--shadow-soft), inset 0 1px 0 rgba(255, 255, 255, 0.5);
  transition: box-shadow 0.3s ease, transform 0.3s ease, background 0.3s ease;
}

.depth-card:hover {
  box-shadow: var(--shadow-medium), inset 0 1px 0 rgba(255, 255, 255, 0.6);
  transform: translateY(-1px);
}

.depth-elevated {
  box-shadow: var(--shadow-elevated);
}

.depth-glow {
  box-shadow: var(--shadow-blue-glow);
}

.depth-inner {
  box-shadow: var(--shadow-inner-light);
}

/* ========================================
   Utility Animations
   ======================================== */

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in-up {
  animation: fade-in-up 0.7s ease-out forwards;
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out forwards;
}

/* ========================================
   Micro-interactions
   ======================================== */

/* Nav link hover underline */
.nav-link {
  position: relative;
}

.nav-link::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 1px;
  background: var(--blue-primary);
  transition: width 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.nav-link:hover::after {
  width: 100%;
}

/* Blinking cursor */
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.cursor-blink-underscore {
  animation: blink 1.1s step-end infinite;
  color: var(--blue-primary);
}

/* Floating animation for hero badge */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

/* Card tilt on hover */
.tilt-card {
  transition: transform 0.4s cubic-bezier(0.25, 0.1, 0.25, 1), box-shadow 0.4s ease;
}

.tilt-card:hover {
  transform: translateY(-4px) scale(1.01);
}

/* Icon bounce on group hover */
.group:hover .icon-bounce {
  animation: icon-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes icon-pop {
  0% { transform: scale(1) translateY(0); }
  60% { transform: scale(1.05) translateY(-2px); }
  100% { transform: scale(1) translateY(0); }
}

/* Shimmer on editorial rule */
@keyframes shimmer {
  0% { background-position: -100px 0; }
  100% { background-position: 200px 0; }
}

.editorial-rule-blue {
  background: linear-gradient(
    90deg,
    var(--blue-primary) 0%,
    var(--blue-light) 50%,
    var(--blue-primary) 100%
  );
  background-size: 200px 100%;
  animation: shimmer 3s ease-in-out infinite;
}

/* Step number hover scale */
.step-number {
  transition: transform 0.4s cubic-bezier(0.25, 0.1, 0.25, 1), color 0.3s ease;
}

.step-number:hover {
  transform: scale(1.05);
  color: var(--blue-primary);
}

/* Scroll indicator */
@keyframes scroll-hint {
  0%, 100% { transform: translateY(0); opacity: 0.6; }
  50% { transform: translateY(8px); opacity: 1; }
}

.scroll-indicator {
  animation: scroll-hint 2s ease-in-out infinite;
}

/* ========================================
   Playground Animations
   ======================================== */

/* Analysis pulsing orb */
@keyframes analysis-pulse {
  0%, 100% { transform: scale(1); opacity: 0.4; }
  50% { transform: scale(1.15); opacity: 0.2; }
}

.analysis-pulse {
  animation: analysis-pulse 2s ease-in-out infinite;
}

/* Score count-up animation */
@keyframes score-count {
  from { opacity: 0; transform: scale(0.8); }
  to { opacity: 1; transform: scale(1); }
}

.animate-score {
  animation: score-count 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* ========================================
   Verepo Animations
   ======================================== */

/* Scan line sweep */
@keyframes scan-line {
  0% { transform: translateY(-100%); opacity: 0; }
  10% { opacity: 0.6; }
  90% { opacity: 0.6; }
  100% { transform: translateY(100%); opacity: 0; }
}

.scan-line {
  animation: scan-line 2.5s ease-in-out infinite;
}

/* Verdict badge glow */
.verdict-verified {
  box-shadow: 0 0 12px rgba(34, 139, 34, 0.15);
}

.verdict-suspicious {
  box-shadow: 0 0 12px rgba(200, 150, 0, 0.15);
}

.verdict-unverified {
  box-shadow: 0 0 12px rgba(200, 50, 50, 0.15);
}

/* ========================================
   Solana Wallet Adapter Modal Overrides
   ======================================== */

.wallet-adapter-modal-overlay {
  background: rgba(240, 244, 248, 0.7) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.wallet-adapter-modal-wrapper {
  background: rgba(248, 250, 252, 0.92) !important;
  backdrop-filter: blur(24px) !important;
  -webkit-backdrop-filter: blur(24px) !important;
  border: 1px solid rgba(255, 255, 255, 0.6) !important;
  border-radius: 16px !important;
  box-shadow: var(--shadow-elevated), inset 0 1px 0 rgba(255, 255, 255, 0.7) !important;
  font-family: var(--font-dm-sans), sans-serif !important;
}

.wallet-adapter-modal-title {
  color: var(--text-primary) !important;
  font-family: var(--font-dm-sans), sans-serif !important;
  font-weight: 600 !important;
}

.wallet-adapter-modal-list .wallet-adapter-button {
  color: var(--text-primary) !important;
  font-family: var(--font-dm-sans), sans-serif !important;
}

.wallet-adapter-modal-list .wallet-adapter-button:hover {
  background: var(--blue-pale) !important;
}

.wallet-adapter-modal-button-close {
  background: var(--bg-deep) !important;
}

.wallet-adapter-modal-button-close:hover {
  background: var(--border) !important;
}

.wallet-adapter-modal-button-close svg {
  fill: var(--text-secondary) !important;
}

.wallet-adapter-modal-list-more {
  color: var(--blue-primary) !important;
}

.wallet-adapter-modal-middle-button {
  color: var(--blue-primary) !important;
}
